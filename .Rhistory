html_text()
title
url_2_donga <- 'http://www.donga.com/news/Economy'
url <- url_2_donga
html <- read_html(url)
title2 <- html %>%
html_nodes('.articleList') %>%
html_nodes('.tit') %>%
html_text()
url_3_khan <- 'http://biz.khan.co.kr/khan_art_list.html?category=economy'
url <- url_3_khan
html <- read_html(url, encoding = 'euc-kr')
title3 <- html %>%
html_nodes('.text_area') %>%
html_nodes('.hd_title') %>%
html_nodes('a') %>%
html_text()
url_4_chosun <- 'http://biz.chosun.com/'
url <- url_4_chosun
html <- read_html(url)
title4 <- html %>%
html_nodes('.news_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
url_5_hank <- 'https://www.hankookilbo.com/News/Economy/HB01'
url <- url_5_hank
html <- read_html(url)
title5 <- html %>%
html_nodes('.title') %>%
html_text()
url_6_jtbc <- 'http://news.jtbc.joins.com/section/index.aspx?scode=20'
url <- url_6_jtbc
html <- read_html(url)
title6 <- trim(html %>%
html_nodes('.title_cr') %>%
html_text())
url_7_kbs <- 'http://news.kbs.co.kr/news/list.do?ctcd=0004#20190702&3'
url <- url_7_kbs
html <- read_html(url)
title7 <- html %>%
html_nodes('.desc') %>%
html_nodes('.tit') %>%
html_text()
url_8_hankyung <- 'https://www.hankyung.com/all-news/economy?'
url <- url_8_hankyung
html <- read_html(url)
title8 <- html %>%
html_nodes('.tit') %>%
html_text()
install.packages('wordcloud2')
install.packages('tm')
install.packages('KoNLP')
library(tm)
library(KoNLP)
library(wordcloud2)
library(stringr)
useSejongDic()
library(KoNLP)
library(rJava)
library(KoNLP)
library(rJava)
library(tm)
library(KoNLP)
library(dplyr)
library(stringr)
library(rvest)
library(rJava)
library(tm)
library(KoNLP)
library(wordcloud2)
library(stringr)
useSejongDic()
title <- title1+title2
title <- c(title1, title2, title3, title4, title5, title6, title7, title8)
title_Noun<- sapply(title, extractNoun, USE.NAMES = F)
View(title_Noun)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
wordcloudTitleTxt <- as.data.frame(sort(table(title_filter2), decreasing = T))
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
table(title_filter2)
table(desc(title_filter2))
dect(table(title_filter2))
desc(table(title_filter2))
sort(table(title_filter2),decreasing = T)
sort(table(title_filter2),decreasing = T)
url_1_kmib_1 <- 'http://news.kmib.co.kr/article/list.asp?sid1=eco&sid2=&page='
page <- c(3,6,2,1,3,5,6)
url_1_kmib_2 <- '&sdate='
date <- c(20190702:20190626)
date <- c(20190702:20190701,20190630:20190626)
url_1_kmib_3 <- '&st='
title_kmib<-c()
for(x in date){
for(y in page){
url <- paste0(url_1_kmib_1, y, url_1_kmib_2, x, url_1_kmib_3)
html <- read_html(url, encoding = 'euc-kr')
title_temp <- html %>%
html_nodes('.nws_list') %>%
html_nodes('.nws') %>%
html_nodes('dt')%>%
html_nodes('a')%>%
html_text()
title_kmib <- c(title_kmib, title_temp)
}
}
head(title_kmib, 6)
url_2_donga_1 <- 'http://voice.donga.com/List?c=01&p='
page <- seq(1:691,by = 15)
page <- seq(1,691,by = 15)
url <- http://voice.donga.com/List?c=01&p=1
url <- 'http://voice.donga.com/List?c=01&p=1'
html <- read_html(url)
title2 <- html %>%
html_nodes('.articleList') %>%
html_nodes('.title') %>%
html_text()
title2
title_donga<-c()
for(x in page){
url <- paste0(url_2_donga_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.articleList') %>%
html_nodes('.title') %>%
html_text()
title_donga <- c(title_donga, title_temp)
}
title_khan<-c()
url_3_khan_1 <- 'http://biz.khan.co.kr/khan_art_list.html?category=economy&page='
page <-c(1:6)
for(x in page){
url <- paste0(url_3_khan_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.text_area') %>%
html_nodes('.hd_title') %>%
html_nodes('a') %>%
html_text()
title_khan <- c(title_khan, title_temp)
}
for(x in page){
url <- paste0(url_3_khan_1, x)
html <- read_html(url, encoding = 'euc-kr')
title_temp <- html %>%
html_nodes('.text_area') %>%
html_nodes('.hd_title') %>%
html_nodes('a') %>%
html_text()
title_khan <- c(title_khan, title_temp)
}
url_4_chosun <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn=18'
url <- url_4_chosun
html <- read_html(url)
title4 <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title4
title_chosun<-c()
url_4_chosun_1 <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn='
page <-c(1:18)
for(x in page){
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_khan <- c(url_4_chosun_1, title_temp)
}
url_4_chosun <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn=1'
url <- url_4_chosun
html <- read_html(url)
title4 <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title4
title_chosun<-c()
url_4_chosun_1 <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn='
page <-c(1:18)
for(x in page){
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_khan <- c(url_4_chosun_1, title_temp)
}
for(x in page){
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(url_4_chosun_1, title_temp)
}
title_chosun
title_chosun<-c()
url_4_chosun_1 <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn='
page <-c(1:18)
for(x in page){
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(url_4_chosun_1, title_temp)
}
url_4_chosun <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn=1'
url <- url_4_chosun
html <- read_html(url)
title4 <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title4
url_4_chosun <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn=2'
title4 <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title4
url_4_chosun <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn=2'
url <- url_4_chosun
html <- read_html(url)
title4 <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title4
title_chosun<-c()
url_4_chosun_1 <- 'http://biz.chosun.com/svc/list_in/list.html?source=1&pn='
page <-c(1:18)
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(url_4_chosun_1, title_temp)
url <- paste0(url_4_chosun_1, 1)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(url_4_chosun_1, title_temp)
title_chosun
url <- paste0(url_4_chosun_1, 2)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(url_4_chosun_1, title_temp)
title_chosun
for(x in page){
url <- paste0(url_4_chosun_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_chosun <- c(title_chosun, title_temp)
}
title_khan<-c()
url_3_khan_1 <- 'http://biz.khan.co.kr/khan_art_list.html?category=economy&page='
page <-c(1:6)
for(x in page){
url <- paste0(url_3_khan_1, x)
html <- read_html(url, encoding = 'euc-kr')
title_temp <- html %>%
html_nodes('.text_area') %>%
html_nodes('.hd_title') %>%
html_nodes('a') %>%
html_text()
title_khan <- c(title_khan, title_temp)
}
url_6_jtbc <- 'http://news.jtbc.joins.com/section/list.aspx?pdate=20190702&scode=20&copyright='
url <- url_6_jtbc
html <- read_html(url)
title6 <- trim(html %>%
html_nodes('.title_cr') %>%
html_text())
trim <- function(x) gsub('^\\s+|\\s+$',"",x)
title6 <- trim(html %>%
html_nodes('.title_cr') %>%
html_text())
title6
title_jtbc <- c()
url_6_jtbc_1 <- 'http://news.jtbc.joins.com/section/list.aspx?pdate='
date <- date <- c(20190702:20190701,20190630:20190626)
url_6_jtbc_2 <- '&scode=20&copyright='
title_khan<-c()
url_3_khan_1 <- 'http://biz.khan.co.kr/khan_art_list.html?category=economy&page='
title_jtbc <- c()
url_5_jtbc_1 <- 'http://news.jtbc.joins.com/section/list.aspx?pdate='
date <- date <- c(20190702:20190701,20190630:20190626)
url_5_jtbc_2 <- '&scode=20&copyright='
for(x in date){
url <- paste0(url_5_jtbc_1, x, url_5_jtbc_2)
html <- read_html(url)
title_temp <- trim(html %>%
html_nodes('.title_cr') %>%
html_text())
title_jtbc <- c(title_jtbc, title_temp)
}
url_7_kbs <- 'http://news.kbs.co.kr/news/list.do?ctcd=0004#20190702&1'
url <- url_7_kbs
html <- read_html(url)
title7 <- html %>%
html_nodes('.desc') %>%
html_nodes('.tit') %>%
html_text()
url_7_kbs <- 'http://news.kbs.co.kr/news/list.do?ctcd=0004#20190701&1'
url <- url_7_kbs
html <- read_html(url)
title7 <- html %>%
html_nodes('.desc') %>%
html_nodes('.tit') %>%
html_text()
url_7_kbs <- 'http://news.kbs.co.kr/news/list.do?ctcd=0004#20190701&2'
url <- url_7_kbs
html <- read_html(url)
title7 <- html %>%
html_nodes('.desc') %>%
html_nodes('.tit') %>%
html_text()
url_8_hankyung <- 'https://www.hankyung.com/all-news/economy?page=2'
url <- url_8_hankyung
html <- read_html(url)
title8 <- html %>%
html_nodes('.tit') %>%
html_text()
title8
url_8_hankyung <- 'https://www.hankyung.com/all-news/economy?page=2'
url <- url_8_hankyung
html <- read_html(url)
title8 <- html %>%
html_nodes('.tit') %>%
html_text()
title8
url_6_hankyung_1 <- 'https://www.hankyung.com/all-news/economy?page='
page <- c(1:65)
title_hankyung <- c()
url_6_hankyung_1 <- 'https://www.hankyung.com/all-news/economy?page='
page <- c(1:65)
for(x in page){
url <- paste0(url_6_hankyung_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
title_hankyung <- c(title_hankyung, title_temp)
}
url_6_hankyung <- 'https://www.hankyung.com/all-news/economy?page=2'
url <- url_6_hankyung
html <- read_html(url)
title8 <- html %>%
html_nodes('.tit') %>%
html_text()
title8
url_6_hankyung <- 'https://www.hankyung.com/all-news/economy?page=20'
url <- url_6_hankyung
html <- read_html(url)
title8 <- html %>%
html_nodes('.tit') %>%
html_text()
title8
title_hankyung <- c()
url_6_hankyung_1 <- 'https://www.hankyung.com/all-news/economy?page='
page <- c(1:65)
url <- paste0(url_6_hankyung_1, 1)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.list_item') %>%
html_nodes('dt') %>%
html_nodes('a') %>%
html_text()
for(x in page){
url <- paste0(url_6_hankyung_1, x)
html <- read_html(url)
title_temp <- html %>%
html_nodes('.tit') %>%
html_text()
title_hankyung <- c(title_hankyung, title_temp)
}
title <- c(title_chosun, title_donga, title_hankyung, title_jtbc, title_khan, title_kmib)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
mergeUserDic(data.frame(c('코스닥'), c('n')))
mergeUserDic(data.frame(c('코스피'), c('n')))
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_unlist <- gsub('년월일', '', title_unlist)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title_filter3 <- gsub('년월일', '', title_filter2)
head(sort(table(title_filter3),decreasing = T), 100)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter4<- str_replace_all(title_filter3, "[^[:alpha:]]","")
head(sort(table(title_filter4),decreasing = T), 100)
wordcloudTitleTxt <- as.data.frame(sort(table(title_filter4), decreasing = T))
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
wordcloudTitleTxt <- head(as.data.frame(sort(table(title_filter4), decreasing = T)),200)
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_Noun <- gsub('년월일', '', title_Noun)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title <- c(title_chosun, title_donga, title_hankyung, title_jtbc, title_khan, title_kmib)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
wordcloudTitleTxt <- head(as.data.frame(sort(table(title_filter4), decreasing = T)),200)
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
wordcloudTitleTxt <- head(as.data.frame(sort(table(title_filter2), decreasing = T)),200)
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
title <- gsub('년월일', '', title)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title <- gsub('년월일', '', title)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
head(title_unlist)
head(title_unlist, 100)
title_unlist <- gsub('년월일', '', title_unlist)
head(title_unlist, 100)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:][년월일일]]","")
title_replace<- str_replace_all(title_unlist, "[^[:alpha:][년월일일]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]년월일","")
title_replace<- str_replace_all(title_unlist, "[^[:alpha:][년월일]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]([년월일])","")
title_replace<- str_replace_all(title_unlist, "[^[:alpha:](년월일)","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
head(sort(table(title_filter2),decreasing = T), 100)
wordcloudTitleTxt <- head(as.data.frame(sort(table(title_filter2), decreasing = T)))
head(wordcloudTitleTxt)
View(wordcloudTitleTxt)
wordcloudTitleTxt <-as.data.frame(sort(table(title_filter2), decreasing = T))
wordcloudTitleTxt
class(wordcloudTitleTxt)
wordcloudTitleTxt <- wordcloudTitleTxt %>% filter(title_filter2 != '년월일')
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
title <- c(title_chosun, title_donga, title_hankyung, title_jtbc, title_khan, title_kmib)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:](년월일)","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
wordcloudTitleTxt <-as.data.frame(sort(table(title_filter2), decreasing = T))
# wordcloud2 실행
title <- c(title_chosun, title_donga, title_hankyung, title_jtbc, title_khan, title_kmib)
title_Noun <- sapply(title, extractNoun, USE.NAMES = F)
title_unlist <- unlist(title_Noun)
title_replace<- str_replace_all(title_unlist, "[^[:alpha:]]","")
title_filter1<- Filter(function(x) {nchar(x) <= 10}, title_replace)
title_filter2<- Filter(function(x) {nchar(x) >= 2}, title_filter1)
wordcloudTitleTxt <-as.data.frame(sort(table(title_filter2), decreasing = T))
wordcloudTitleTxt <- wordcloudTitleTxt %>% filter(title_filter2 != '년월일')
wordcloud2(wordcloudTitleTxt, color = "random-light", backgroundColor = "grey", rotateRatio = 1)
